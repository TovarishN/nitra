using Nitra.ProjectSystem;

using Nemerle;
using Nemerle.Collections;

namespace Nitra.Typing
{
  public partial module TypingUtils
  {
    internal RegisterDependentPropertyAssignment(propertyContainer : PropertyContainerSymbol, assignment : DependentPropertyAssignment, compilerMessages : ICompilerMessages) : void
    {
      if ((propertyContainer : object) is IDependentPropertyAssignmentContainer as container)
        container.AddAssignment(assignment)
      else
        compilerMessages.Error(assignment, $"Dependent property assignment is not allowed in $(propertyContainer.Description).");
    }
  }
}
