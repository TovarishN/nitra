using DotNet;
using DotNet.AstUtils;

using Nitra;
using Nitra.Declarations;

namespace Tdl
{
  abstract ast SuiteStatement : BindableAst
  {
    inout Scope : Scope;

    | CallScenario
      {
      stage 1:
        out ScenarioRef : Ref[ScenarioSymbol];

        ScopeOut = ScopeIn.HideWith(ScenarioRef.Scope);

        Scenario.Scope  = Scope;
        ScenarioRef     = Scenario.Ref.Resolve();

        Scenario : Reference;
      }
  }
}
